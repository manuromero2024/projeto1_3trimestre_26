<script type="module" src="graficos/redesFavoritasMundo.js"></script>
console.log('deu certo');
async function redesFavoritasMundo() {
    async function redesFavoritasMundo() {
        const url = 'https://raw.githubusercontent.com/guilhermeonrails/api/main/redes-favoritas.json'
    }
    async function redesFavoritasMundo() {
        const url = 'https://raw.githubusercontent.com/guilhermeonrails/api/main/redes-favoritas.json'
        const res = await fetch(url)
        const dados = await res.json()
        console.log(dados);
    }
    
    redesFavoritasMundo()
    {Instagram: 16.5, WhatsApp: 16.1, Facebook: 12.8, WeChat: 12.8, TikTok: 7.4, _}
    async function redesFavoritasMundo() {
         const url = 'https://raw.githubusercontent.com/guilhermeonrails/api/main/redes-favoritas.json'
        const res = await fetch(url)
        const dados = await res.json()
        const redes = Object.keys(dados)
        const valores = Object.values(dados)
    }
    
    redesFavoritasMundo()
    async function redesFavoritasMundo() {
        const url = 'https://raw.githubusercontent.com/guilhermeonrails/api/main/redes-favoritas.json'
        const res = await fetch(url)
        const dados = await res.json()
        const redes = Object.keys(dados)
        const valores = Object.values(dados)
    
        const data = [
            {
                values: valores,
                labels: redes,
                type: 'pie',
                textinfo: 'label+percent'
            }
        ]
    }
    
    redesFavoritasMundo()
    const layout = {
        plot_bgcolor: getCSS('--bg-color'),
        paper_bgcolor: getCSS('--bg-color'),
        title: {
            text: 'Redes sociais com mais usuários no mundo',
            x: 0,
            font: {
                color: getCSS('--primary-color'),
                family: getCSS('--font'),
                size: 30
            }
        },
        xaxis: {
            tickfont: tickConfig,
            title: {
                text: 'nome das redes sociais',
                font: {
                    color: getCSS('--secondary-color')
                }
            }
        },
        yaxis: {
            tickfont: tickConfig,
            title: {
                text: 'bilhões de usuários ativos',
                font: {
                    color: getCSS('--secondary-color')
                }
            }
        }
    }
    Copiar código
    A princípio, queremos que o fundo seja a cor do background, então vamos manter a primeira configuração, de plot_bgcolor. Lembrando que, se queremos usar o método getCSS(), é necessário fazer a importação de getCSS. Para isso, digitamos import { getCSS } from "./common.js" na linha 1.
    
    redesFavoritasMundo.js:
    const layout = {
        plot_bgcolor: getCSS('--bg-color'),
        paper_bgcolor: getCSS('--bg-color'),
        title: {
            text: 'Redes sociais que os usuários mais gostam',
            x: 0,
            font: {
                color: getCSS('--primary-color'),
                family: getCSS('--font'),
                size: 30
            }
        },
        legend: {
            font: {
                color: getCSS('--primary-color'),
                size: 16
            }
        }
    }
    import { getCSS } from "./common.js"
    
    // código omitido
    Copiar código
    Uma vez feito o import, podemos seguir analisando as informações do código copiado. Na linha 23, encontramos nome do gráfico que queremos gerar. No momento, temos "Redes sociais com mais usuários no mundo", mas vamos substituir por "Redes sociais que os usuários mais gostam" ou algo semelhante.
    
    // código omitido
    
    const layout = {
        plot_bgcolor: getCSS('--bg-color'),
        paper_bgcolor: getCSS('--bg-color'),
        title: {
            text: 'Redes sociais que os usuários mais gostam',
            x: 0,
            font: {
                color: getCSS('--primary-color'),
                family: getCSS('--font'),
                size: 30
            }
        },
    
    // código omitido
    Copiar código
    const layout = {
        plot_bgcolor: getCSS('--bg-color'),
        paper_bgcolor: getCSS('--bg-color'),
        title: {
            text: 'Redes sociais que os usuários mais gostam',
            x: 0,
            font: {
                color: getCSS('--primary-color'),
                family: getCSS('--font'),
                size: 30
            }
        },
        legend: {
            font: {
                color: getCSS('--primary-color'),
                size: 16
            }
        }
    }    
    const grafico = document.createElement('div')
grafico.className = 'grafico'
document.getElementById('graficos-container').appendChild(grafico)
Plotly.newPlot(grafico, data, layout)
import { getCSS } from "./common.js"

async function redesFavoritasMundo() {
    const url = 'https://raw.githubusercontent.com/guilhermeonrails/api/main/redes-favoritas.json'
    const res = await fetch(url)
    const dados = await res.json()
    const redes = Object.keys(dados)
    const valores = Object.values(dados)

    const data = [
        {
            values: valores,
            labels: redes,
            type: 'pie',
            textinfo: 'label+percent'
        }
    ]

    const layout = {
        plot_bgcolor: getCSS('--bg-color'),
        paper_bgcolor: getCSS('--bg-color'),
        title: {
            text: 'Redes sociais que os usuários mais gostam',
            x: 0,
            font: {
                color: getCSS('--primary-color'),
                family: getCSS('--font'),
                size: 30
            }
        },
        legend: {
            font: {
                color: getCSS('--primary-color'),
                size: 16
            }
        }
    }

    const grafico = document.createElement('div')
    grafico.className = 'grafico'
    document.getElementById('graficos-container').appendChild(grafico)
    Plotly.newPlot(grafico, data, layout)
}

redesFavoritasMundo()